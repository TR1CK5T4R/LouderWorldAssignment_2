@import "tailwindcss";

@theme {
  --color-primary: #2563EB;
  --color-primary-light: #3B82F6;
  --color-primary-dark: #1D4ED8;
  --color-accent: #F97316;
  --color-accent-light: #FB923C;
  --color-bg-base: #F8FAFC;
  --color-bg-panel: #FFFFFF;
  --color-text-main: #0F172A;
  --color-text-muted: #64748B;
  --color-border: #E2E8F0;

  --spacing-4: 0.25rem;
  /* 4px */
  --spacing-8: 0.5rem;
  /* 8px */
  --spacing-16: 1rem;
  /* 16px */
  --spacing-24: 1.5rem;
  /* 24px */
  --spacing-32: 2rem;
  /* 32px */

  --radius-2xl: 1rem;
  --radius-xl: 0.75rem;

  --shadow-subtle: 0 4px 20px -2px rgba(15, 23, 42, 0.05);
  --shadow-card: 0 10px 30px -5px rgba(15, 23, 42, 0.08);
}

/* ──────────────────────────────────────────────────────────── 
   Base Elements
────────────────────────────────────────────────────────────── */
@layer base {
  body {
    @apply bg-[var(--color-bg-base)] text-[var(--color-text-main)] antialiased;
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
  }
}

/* ──────────────────────────────────────────────────────────── 
   Utility Components (Design System)
────────────────────────────────────────────────────────────── */
@layer components {

  /* 
   * Main App Structure 
   * 1. app-layout: Full screen flex-col (Navbar top, Body bottom)
   * 2. app-body: flex-row taking remaining height (Sidebar left, Chat right)
   */
  .app-layout {
    @apply flex flex-col h-[100dvh] w-full overflow-hidden bg-[var(--color-bg-base)];
  }

  .app-body {
    @apply flex flex-1 min-h-0 relative;
  }

  /* 
   * Top Navbar
   */
  .top-navbar {
    @apply flex items-center h-14 px-4 bg-[var(--color-bg-panel)] border-b border-[var(--color-border)] shrink-0 z-30 relative shadow-sm;
  }

  /* 
   * Sidebar Container
   */
  .sidebar-container {
    @apply w-[280px] shrink-0 flex flex-col bg-[var(--color-bg-panel)] border-r border-[var(--color-border)] z-20 transition-transform duration-300;
  }

  .sidebar-btn {
    @apply w-full flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-semibold text-[var(--color-primary)] bg-[var(--color-primary)]/10 hover:bg-[var(--color-primary)]/15 transition-colors duration-200 mt-4;
  }

  .sidebar-item {
    @apply flex items-center gap-3 px-3 py-2.5 rounded-xl cursor-pointer transition-colors duration-200 text-sm font-medium text-[var(--color-text-muted)] hover:bg-[var(--color-bg-base)] hover:text-[var(--color-text-main)];
  }

  /* 
   * Main Chat Area
   */
  .chat-main-container {
    @apply flex-1 flex flex-col min-w-0 bg-[var(--color-bg-base)] relative;
  }

  .chat-messages-area {
    @apply flex-1 overflow-y-auto px-4 py-6 md:px-8 bg-[var(--color-bg-base)];
  }

  .chat-center-content {
    @apply max-w-[900px] w-full mx-auto flex flex-col gap-6;
  }

  /* 
   * Fixed Bottom Input Area
   */
  .chat-input-area {
    @apply shrink-0 p-4 bg-gradient-to-t from-[var(--color-bg-base)] via-[var(--color-bg-base)] to-transparent;
  }

  .chat-input-center {
    @apply max-w-[900px] w-full mx-auto;
  }

  /* 
   * Chat Bubble
   */
  .chat-bubble-row {
    @apply flex gap-3 max-w-[850px] w-full;
  }

  .chat-bubble {
    @apply px-4 py-3 rounded-2xl text-[15px] leading-relaxed shadow-subtle break-words;
  }

  .chat-bubble-user {
    @apply bg-gradient-to-br from-[var(--color-primary)] to-[var(--color-primary-light)] text-white rounded-br-sm shadow-card;
  }

  .chat-bubble-ai {
    @apply bg-[var(--color-bg-panel)] border border-[var(--color-border)] text-[var(--color-text-main)] rounded-bl-sm;
  }

  /* Bold markdown inside AI bubble */
  .chat-bubble-ai strong {
    @apply text-[var(--color-primary-dark)] font-semibold;
  }

  /* 
   * Card Container (Events)
   */
  .card-container {
    @apply bg-[var(--color-bg-panel)] border border-[var(--color-border)] rounded-2xl overflow-hidden shadow-subtle transition-all duration-300 hover:-translate-y-1 hover:shadow-card hover:border-[var(--color-primary)]/30;
  }

  .card-header-bg {
    @apply bg-gradient-to-r from-[var(--color-primary)]/10 to-[var(--color-accent)]/5 px-4 py-3 border-b border-[var(--color-border)]/50;
  }

  .card-badge {
    @apply inline-block px-2.5 py-0.5 rounded-full text-[10px] font-bold tracking-wider uppercase bg-[var(--color-accent)]/10 text-[var(--color-accent-light)] mb-2;
  }

  .card-btn {
    @apply px-3 py-1.5 rounded-xl text-xs font-bold tracking-wide uppercase transition-all bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-primary-light)] text-white shadow-md hover:shadow-lg hover:opacity-90;
  }

  /* 
   * Input Wrapper
   */
  .input-wrapper {
    @apply flex items-end gap-3 bg-[var(--color-bg-panel)] border border-[var(--color-border)] rounded-2xl p-2.5 shadow-subtle transition-all duration-300 focus-within:border-[var(--color-primary)] focus-within:ring-4 focus-within:ring-[var(--color-primary)]/10;
  }

  .input-field {
    @apply flex-1 resize-none bg-transparent border-none outline-none text-[15px] text-[var(--color-text-main)] placeholder-[var(--color-text-muted)] leading-relaxed max-h-[140px] min-h-[24px] px-2 py-1;
  }

  .input-send-btn {
    @apply shrink-0 w-10 h-10 rounded-xl flex items-center justify-center text-white bg-gradient-to-br from-[var(--color-primary)] to-[var(--color-primary-dark)] shadow-md transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed hover:not-disabled:shadow-lg hover:not-disabled:-translate-y-0.5;
  }

  /* 
   * Login Page
   */
  .login-wrapper {
    @apply min-h-[100dvh] flex items-center justify-center p-6 bg-gradient-to-br from-[var(--color-bg-base)] via-[var(--color-bg-base)] to-[var(--color-primary)]/5;
  }

  .login-box {
    @apply w-full max-w-sm bg-[var(--color-bg-panel)] border border-[var(--color-border)] rounded-[1.5rem] p-8 shadow-card;
  }

  /* 
   * Avatars
   */
  .avatar-base {
    @apply w-9 h-9 rounded-full shrink-0 flex items-center justify-center font-bold text-sm;
  }

  .avatar-ai {
    @apply bg-gradient-to-br from-[var(--color-primary)] to-[var(--color-primary-light)] text-white shadow-lg shadow-[var(--color-primary)]/20 text-lg;
  }

  .avatar-user {
    @apply bg-[var(--color-bg-base)] border border-[var(--color-border)] text-[var(--color-text-muted)];
  }

  /* 
   * Scrollbar
   */
  .scroll-styled::-webkit-scrollbar {
    width: 5px;
  }

  .scroll-styled::-webkit-scrollbar-track {
    background: transparent;
  }

  .scroll-styled::-webkit-scrollbar-thumb {
    @apply bg-[var(--color-border)] rounded-full hover:bg-[var(--color-text-muted)]/30;
  }
}